<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        body {
             margin: 0;
            padding-top: 56px; /* Space for fixed navbar */
            background-image: url('/images/benchyLight.png'); /* Background image for the home page */
            background-size: auto ;
            transition: background-color 0.5s;
        }

        .welcome-container {
            text-align: center;
            margin-bottom: 30px;
        }

        .entity-links {
            list-style-type: none;
            padding: 0;
        }

        .entity-link {
            display: block;
            margin-bottom: 30px; /* Decreased space between sidebar buttons */
        }

        .printer-card {
            width: 18rem;
            margin: 10px;
            box-shadow: 10px 9px 21px -8px;
            border-style: inset;
            transition: background-color 0.5s;
        }

        .status-toggle {
            margin-top: 10px;
            display: inline-block;
            justify-content: space-between;
        }

        .status-busy {
            background-color: #8E3B46;
            box-shadow: 10px 9px 21px -8px #020303;
            border-style: inset;
            color: #fff;

        }

        .status-ready {
            background-color: #50723C;
            box-shadow: 10px 9px 21px -8px #020303;
            border-style: inset;
            color: #fff;
        }

        .content {
            margin-left: 200px; /* Increased margin to avoid overlapping with the sidebar */
            padding: 50px;
            transition: 0.5s;
        }

        .navbar-brand img {
            height: 50px;
        }

        .navbar, .footer, .sidebar {
        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            transition: background-color 0.5s;
        }

        /* Adjusting navbar for night mode */
        body.night-mode .navbar {
        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            background-color: #343a40; /* Darker shade for dark mode */
        }

        body.night-mode .sidebar {
            background-color: #343a40; /* Sidebar color in dark mode */
        }

        /* Ensure nav items are centered in the navbar */
        .navbar-collapse {
            justify-content: center;
        }

        /* Night mode styles */
        body.night-mode {
           background-image: url('/images/benchyDark.png'); /* Dark mode background image */
            color: #ffffff;
        }

        /* Night mode button styles */
        .night-mode-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            background-color: #000000; /* Adjusted button background color */
            color: #ffffff; /* Adjusted button text color */
            border: none; /* Removed button border */
            padding: 8px 16px; /* Adjusted padding for the button */
            font-size: 14px; /* Adjusted font size */
            border-radius: 5px; /* Added border radius */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }

        .night-mode-btn:hover {
            background-color: #333333; /* Adjusted button background color on hover */
        }
    </style>
</head>
<body>

<button class="night-mode-btn btn btn-primary btn-sm" onclick="toggleNightMode()">Night Mode</button>

<div class="welcome-container">
    <h1>Welcome to Your 3D Inventory Buddy</h1>
</div>

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <img src="/images/LOGO.png" alt="Logo" class="navbar-logo">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto"> <!-- Use me-auto for left alignment or ml-auto for right -->
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/printers/all">Printers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/filamentSpools/all">Filament Spools</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/resins/all">Resins</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/extras/all">Extras</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="content">
    <div class="text-center">
        <div class="row">
            <h1>Printers Overview</h1>
        </div>

        <!-- Display Bootstrap cards for each printer -->
        <div class="row">
            <div th:each="printer: ${printers}" class="col-md-4">
                <div class="card printer-card">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${printer.name}"></h5>
                        <p class="card-text">Brand: <span th:text="${printer.brand}"></span></p>
                        <p class="card-text">Type: <span th:text="${printer.type}"></span></p>
                        <!-- Wrench icon for editing material -->
                        <a th:href="@{'/printers/edit/' + ${printer.id}}" class="btn btn-link">
                            <svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-gear-fill" viewBox="0 0 16 16">
                                <path
                                        d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                            </svg>
                        </a>
                        </p>
                        <p class="card-text">Price: <span th:text="${printer.price}"></span></p>
                        <!-- Split button dropdown for status -->
                        <div class="btn-group status-toggle">
                            <button type="button" class="btn btn-secondary status-btn dropdown-toggle"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                Status
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item status-busy" href="#">Busy</a></li>
                                <li><a class="dropdown-item status-ready" href="#">Ready</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include Bootstrap's JavaScript -->
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<script>
    function toggleNightMode() {
        document.body.classList.toggle('night-mode');
        var sidebar = document.querySelector('.sidebar');

        if (document.body.classList.contains('night-mode')) {
            sidebar.style.backgroundColor = '#415a77'; /* Adjusted sidebar background color */
            printerCards.forEach(function (card) {
                card.style.backgroundColor = '#415a77'; /* Adjusted printer card background color */
            });
        } else {
            sidebar.style.backgroundColor = '#778da9'; /* Adjusted sidebar background color */
            printerCards.forEach(function (card) {
                card.style.backgroundColor = '#e0e1dd'; /* Adjusted printer card background color */
            });
        }
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get all dropdown buttons
        var dropdownButtons = document.querySelectorAll('.status-btn');

        // Attach click event listener to each dropdown button
        dropdownButtons.forEach(function (button) {
            button.addEventListener('click', function () {
                // Get the selected item text and update the button text
                var selectedItem = this.nextElementSibling.querySelector('.dropdown-item.active').innerText;
                this.innerText = selectedItem;

                // Update card style based on selected status
                var card = this.closest('.printer-card');
                if (selectedItem === 'Busy') {
                    card.classList.remove('status-ready');
                    card.classList.add('status-busy');
                } else if (selectedItem === 'Ready') {
                    card.classList.remove('status-busy');
                    card.classList.add('status-ready');
                }
            });

            // Attach click event listener to each dropdown item
            var dropdownItems = button.nextElementSibling.querySelectorAll('.dropdown-item');
            dropdownItems.forEach(function (item) {
                item.addEventListener('click', function () {
                    // Remove 'active' class from all items and add it to the clicked item
                    dropdownItems.forEach(function (i) {
                        i.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
        });
    });
</script>
</body>
</html>
